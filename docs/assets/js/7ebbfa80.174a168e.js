"use strict";(self.webpackChunktauri_docs=self.webpackChunktauri_docs||[]).push([[5308],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),p=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return n?i.createElement(h,r(r({ref:t},c),{},{components:n})):i.createElement(h,r({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var p=2;p<o;p++)r[p]=n[p];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},32389:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return d}});var i=n(87462),a=n(63366),o=(n(67294),n(3905)),r=["components"],l={sidebar_label:"macOS Code Signing",sidebar_position:7},s="Code Signing macOS Applications",p={unversionedId:"guides/distribution/sign-macos",id:"guides/distribution/sign-macos",title:"Code Signing macOS Applications",description:"This guide provides information on code signing and notarization for macOS applications.",source:"@site/docs/guides/06-distribution/sign-macos.md",sourceDirName:"guides/06-distribution",slug:"/guides/distribution/sign-macos",permalink:"/doc/v1/guides/distribution/sign-macos",draft:!1,editUrl:"https://github.com/tauri-apps/tauri-docs/edit/dev/docs/guides/06-distribution/sign-macos.md",tags:[],version:"current",lastUpdatedAt:1652522612,formattedLastUpdatedAt:"5/14/2022",sidebarPosition:7,frontMatter:{sidebar_label:"macOS Code Signing",sidebar_position:7},sidebar:"guides",previous:{title:"macOS",permalink:"/doc/v1/guides/distribution/macos"},next:{title:"Updater",permalink:"/doc/v1/guides/distribution/updater"}},c={},d=[{value:"Requirements",id:"requirements",level:2},{value:"tl;dr",id:"tldr",level:2},{value:"Signing Tauri apps",id:"signing-tauri-apps",level:2},{value:"Creating a signing certificate",id:"creating-a-signing-certificate",level:3},{value:"Downloading a certificate",id:"downloading-a-certificate",level:3},{value:"Signing the Tauri application",id:"signing-the-tauri-application",level:3},{value:"Certificate environment variables",id:"certificate-environment-variables",level:4},{value:"Authentication environment variables",id:"authentication-environment-variables",level:4},{value:"Building the application",id:"building-the-application",level:3},{value:"Example",id:"example",level:3}],u={toc:d};function m(e){var t=e.components,n=(0,a.Z)(e,r);return(0,o.kt)("wrapper",(0,i.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"code-signing-macos-applications"},"Code Signing macOS Applications"),(0,o.kt)("p",null,"This guide provides information on code signing and notarization for macOS applications."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If you are not utilizing GitHub Actions to perform builds of OSX DMGs, you will need to ensure the environment variable ",(0,o.kt)("i",null,"CI=true")," exists. For more information refer to ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/tauri-apps/tauri/issues/592"},"tauri-apps/tauri#592"),"."))),(0,o.kt)("h2",{id:"requirements"},"Requirements"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Xcode 11 or above."),(0,o.kt)("li",{parentName:"ul"},"An Apple Developer account enrolled in the ",(0,o.kt)("a",{parentName:"li",href:"https://developer.apple.com/programs/"},"Apple Developer Program"),".")),(0,o.kt)("h2",{id:"tldr"},"tl;dr"),(0,o.kt)("p",null,"The Tauri code signing and notarization process is configured through the following environment variables:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_SIGNING_IDENTITY"),": the name of the keychain entry that contains the signing certificate."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_CERTIFICATE"),": base64 string of the ",(0,o.kt)("inlineCode",{parentName:"li"},".p12")," certificate, exported from the keychain. Useful if you don't have the certificate on the keychain (e.g., CI machines)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_CERTIFICATE_PASSWORD"),": the password for the ",(0,o.kt)("inlineCode",{parentName:"li"},".p12")," certificate."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_ID")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_PASSWORD"),": your Apple account email and an ",(0,o.kt)("a",{parentName:"li",href:"https://support.apple.com/en-ca/HT204397"},"app-specific password"),". Only required to notarize the app."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_API_ISSUER")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_API_KEY"),": authentication with an App Store Connect API key instead of the Apple ID. Only required if you notarize the app."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_PROVIDER_SHORT_NAME"),": Team provider short name. If your Apple ID is connected to multiple teams, you have to specify the provider short name of the team you want to use to notarize your app. You can list your account providers using ",(0,o.kt)("inlineCode",{parentName:"li"},'xcrun altool --list-providers -u "AC_USERNAME" -p "AC_PASSWORD"')," as explained in the notarization ",(0,o.kt)("a",{parentName:"li",href:"https://developer.apple.com/documentation/security/notarizing_macos_software_before_distribution/customizing_the_notarization_workflow"},"workflow"),".")),(0,o.kt)("h2",{id:"signing-tauri-apps"},"Signing Tauri apps"),(0,o.kt)("p",null,"The first step to sign a macOS application is getting a signing certificate from the Apple Developer Program."),(0,o.kt)("h3",{id:"creating-a-signing-certificate"},"Creating a signing certificate"),(0,o.kt)("p",null,"To create a new signing certificate, you must generate a Certificate Signing Request (CSR) file from your Mac computer. ",(0,o.kt)("a",{parentName:"p",href:"https://help.apple.com/developer-account/#/devbfa00fef7"},"Create a certificate signing request")," describes creating a CSR."),(0,o.kt)("p",null,"On your Apple Developer account, navigate to the ",(0,o.kt)("a",{parentName:"p",href:"https://developer.apple.com/account/resources/certificates/list"},"Certificates, IDs & Profiles page")," and click on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Add")," button to open the interface to create a new certificate. Choose the appropriate certificate type (",(0,o.kt)("inlineCode",{parentName:"p"},"Apple Distribution")," to submit apps to the App Store, and ",(0,o.kt)("inlineCode",{parentName:"p"},"Developer ID Application")," to ship apps outside the App Store). Upload your CSR, and the certificate will be created."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Only the Apple Developer ",(0,o.kt)("inlineCode",{parentName:"p"},"Account Holder")," can create ",(0,o.kt)("em",{parentName:"p"},"Developer ID Application")," certificates. But it can be associated with a different Apple ID by creating a CSR with a different user email address."))),(0,o.kt)("h3",{id:"downloading-a-certificate"},"Downloading a certificate"),(0,o.kt)("p",null,"On ",(0,o.kt)("a",{parentName:"p",href:"https://developer.apple.com/account/resources/certificates/list"},"Certificates, IDs & Profiles page"),", click on the certificate you want to use and click on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Download")," button. It saves a ",(0,o.kt)("inlineCode",{parentName:"p"},".cer")," file that installs the certificate on the keychain once opened. The name of the keychain entry represents the ",(0,o.kt)("inlineCode",{parentName:"p"},"signing identity"),", which can also be found by executing ",(0,o.kt)("inlineCode",{parentName:"p"},"security find-identity -v -p codesigning"),"."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"A signing certificate is only valid if associated with your Apple ID. An invalid certificate won't be listed on the ",(0,o.kt)("i",null,"Keychain Access > My Certificates")," tab or the ",(0,o.kt)("i",null,"security find-identity -v -p codesigning")," output."))),(0,o.kt)("h3",{id:"signing-the-tauri-application"},"Signing the Tauri application"),(0,o.kt)("p",null,"The signing configuration is provided to the Tauri bundler via environment variables. You need to configure the certificate to use and an optional authentication configuration to notarize the application."),(0,o.kt)("h4",{id:"certificate-environment-variables"},"Certificate environment variables"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_SIGNING_IDENTITY"),": this is the ",(0,o.kt)("inlineCode",{parentName:"li"},"signing identity")," we highlighted above. It must be defined to sign apps both locally and on CI machines.")),(0,o.kt)("p",null,"Additionally, to simplify the code signing process on CI, Tauri can install the certificate on the keychain for you if you define the ",(0,o.kt)("inlineCode",{parentName:"p"},"APPLE_CERTIFICATE")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"APPLE_CERTIFICATE_PASSWORD")," environment variables."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open the ",(0,o.kt)("inlineCode",{parentName:"li"},"Keychain Access")," app and find your certificate's keychain entry."),(0,o.kt)("li",{parentName:"ol"},"Expand the entry, double click on the key item, and select ",(0,o.kt)("inlineCode",{parentName:"li"},'Export "$KEYNAME"'),"."),(0,o.kt)("li",{parentName:"ol"},"Select the path to save the ",(0,o.kt)("inlineCode",{parentName:"li"},".p12")," file and define the exported certificate password."),(0,o.kt)("li",{parentName:"ol"},"Convert the ",(0,o.kt)("inlineCode",{parentName:"li"},".p12")," file to base64 running the following script on the terminal: ",(0,o.kt)("inlineCode",{parentName:"li"},"openssl base64 -in /path/to/certificate.p12 -out certificate-base64.txt"),"."),(0,o.kt)("li",{parentName:"ol"},"Set the contents of the ",(0,o.kt)("inlineCode",{parentName:"li"},"certificate-base64.txt")," file to the ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_CERTIFICATE")," environment variable."),(0,o.kt)("li",{parentName:"ol"},"Set the certificate password to the ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_CERTIFICATE_PASSWORD")," environment variable.")),(0,o.kt)("h4",{id:"authentication-environment-variables"},"Authentication environment variables"),(0,o.kt)("p",null,"These variables are only required to notarize the application."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Notarization is required when using a ",(0,o.kt)("i",null,"Developer ID Application")," certificate."))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_ID")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_PASSWORD"),": to authenticate with your Apple ID, set the ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_ID")," to your Apple account email (example: ",(0,o.kt)("inlineCode",{parentName:"li"},"export APPLE_ID=tauri@icloud.com"),") and the ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_PASSWORD")," to an ",(0,o.kt)("a",{parentName:"li",href:"https://support.apple.com/en-ca/HT204397"},"app-specific password")," for the Apple account."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_API_ISSUER")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_API_KEY"),": alternatively, you can authenticate using an App Store Connect API key. Open the App Store Connect's ",(0,o.kt)("a",{parentName:"li",href:"https://appstoreconnect.apple.com/access/users"},"Users and Access page"),", select the ",(0,o.kt)("inlineCode",{parentName:"li"},"Keys")," tab, click on the ",(0,o.kt)("inlineCode",{parentName:"li"},"Add")," button and select a name and the ",(0,o.kt)("inlineCode",{parentName:"li"},"Developer")," access. The ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_API_ISSUER")," (",(0,o.kt)("inlineCode",{parentName:"li"},"Issuer ID"),") is presented above the keys table, and the ",(0,o.kt)("inlineCode",{parentName:"li"},"APPLE_API_KEY")," is the value on the ",(0,o.kt)("inlineCode",{parentName:"li"},"Key ID")," column on that table. You also need to download the private key, which can only be done once and is only visible after a page reload (the button is shown on the table row for the newly created key). The private key file must be saved on ",(0,o.kt)("inlineCode",{parentName:"li"},"./private_keys"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"~/private_keys"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"~/.private_keys")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"~/.appstoreconnect/private_keys"),", as stated on the ",(0,o.kt)("inlineCode",{parentName:"li"},"xcrun altool --help")," command.")),(0,o.kt)("h3",{id:"building-the-application"},"Building the application"),(0,o.kt)("p",null,"The Tauri bundler automatically signs and notarizes your application with all these environment variables set when running the ",(0,o.kt)("inlineCode",{parentName:"p"},"tauri build")," command."),(0,o.kt)("h3",{id:"example"},"Example"),(0,o.kt)("p",null,"The following example uses GitHub Actions to sign an application using the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/tauri-apps/tauri-action"},"Tauri action"),"."),(0,o.kt)("p",null,"We first define the environment variables we listed above as Secrets on GitHub."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You can view ",(0,o.kt)("a",{href:"https://docs.github.com/en/actions/reference/encrypted-secrets"},"this guide")," to learn about GitHub secrets."))),(0,o.kt)("p",null,"Once we have established the GitHub Secrets, we create a GitHub publish workflow in ",(0,o.kt)("inlineCode",{parentName:"p"},".github/workflows/main.yml"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"name: 'publish'\non:\n  push:\n    branches:\n      - release\n\njobs:\n  publish-tauri:\n    strategy:\n      fail-fast: false\n      matrix:\n        platform: [macos-latest]\n\n    runs-on: ${{ matrix.platform }}\n    steps:\n      - uses: actions/checkout@v2\n      - name: setup node\n        uses: actions/setup-node@v2\n        with:\n          node-version: 12\n      - name: install Rust stable\n        uses: actions-rs/toolchain@v1\n        with:\n          toolchain: stable\n      - name: install app dependencies and build it\n        run: yarn && yarn build\n      - uses: tauri-apps/tauri-action@v0\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          ENABLE_CODE_SIGNING: ${{ secrets.APPLE_CERTIFICATE }}\n          APPLE_CERTIFICATE: ${{ secrets.APPLE_CERTIFICATE }}\n          APPLE_CERTIFICATE_PASSWORD: ${{ secrets.APPLE_CERTIFICATE_PASSWORD }}\n          APPLE_SIGNING_IDENTITY: ${{ secrets.APPLE_SIGNING_IDENTITY }}\n          APPLE_ID: ${{ secrets.APPLE_ID }}\n          APPLE_PASSWORD: ${{ secrets.APPLE_PASSWORD }}\n        with:\n          tagName: app-v__VERSION__ # the action automatically replaces \\_\\_VERSION\\_\\_ with the app version\n          releaseName: 'App v__VERSION__'\n          releaseBody: 'See the assets to download this version and install.'\n          releaseDraft: true\n          prerelease: false\n")),(0,o.kt)("p",null,"The workflow pulls the secrets from GitHub and defines them as environment variables before building the application using the Tauri action. The output is a GitHub release with the signed and notarized macOS application."))}m.isMDXComponent=!0}}]);