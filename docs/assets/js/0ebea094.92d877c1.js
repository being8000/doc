"use strict";(self.webpackChunktauri_docs=self.webpackChunktauri_docs||[]).push([[799],{18798:function(e,t,r){r.r(t),r.d(t,{assets:function(){return _},contentTitle:function(){return v},data:function(){return w},default:function(){return N},frontMatter:function(){return b},metadata:function(){return y},toc:function(){return g}});var a=r(87462),n=r(63366),i=r(67294),s=r(3905),o=r(15861),u=r(87757),c=r.n(u),l=r(92949),p=r(91262),d=r(10412);function m(){return m=(0,o.Z)(c().mark((function e(){var t,r,a,n,i,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e){var t=[];return e.forEach((function(e){Object.entries(e.exec_time).forEach((function(r){var a=r[0],n=r[1];t.push({type:"exec_time",series:a,order:e.created_at,value:n.mean})})),t.push.apply(t,r(e,"binary_size")),t.push.apply(t,r(e,"max_memory")),t.push.apply(t,r(e,"thread_count")),t.push.apply(t,r(e,"syscall_count")),Object.entries(e).forEach((function(r){var a=r[0],n=r[1];"cargo_deps"==a&&Object.entries(n).forEach((function(r){var a=r[0],n=r[1];t.push({type:"cargo_deps",series:e.type+" "+a,order:e.created_at,value:n})}))}))})),t.forEach((function(e,t){"exec_time"==e.type&&(this[t].value=+e.value.toFixed(3)),"binary_size"!==e.type&&"max_memory"!==e.type||(this[t].value=(e.value/1024/1024).toFixed(2)),this[t].order=new Date(this[t].order)}),t),t;function r(e,t){var r=[];return Object.entries(e[t]).forEach((function(a){var n=a[0],i=a[1];r.push({type:t,series:n,order:e.created_at,value:i})})),r}},i=function(){return i=(0,o.Z)(c().mark((function e(t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then(function(){var e=(0,o.Z)(c().mark((function e(t){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(!((a=e.sent)&&a.length>0)){e.next=6;break}return a.forEach((function(e,t){this[t].type=r}),a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},n=function(e,t){return i.apply(this,arguments)},d.Z.canUseDOM){e.next=5;break}return e.abrupt("return");case 5:return t=n("https://tauri-apps.github.io/benchmark_results/tauri-recent.json?","Tauri"),r=n("https://tauri-apps.github.io/benchmark_results/wry-recent.json?","Wry"),a=n("https://tauri-apps.github.io/benchmark_results/electron-recent.json?","Electron"),e.t0=Promise,e.next=11,r;case 11:return e.t1=e.sent,e.next=14,t;case 14:return e.t2=e.sent,e.next=17,a;case 17:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.next=21,e.t0.all.call(e.t0,e.t4).then((function(e){return s(e.flat())}));case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function h(e,t){var r,a=function(e){return e};switch(e){case"exec_time":r="seconds";break;case"binary_size":case"max_memory":r="megabytes",a=function(e){return e+" MBs"};break;case"thread_count":r="threads";break;case"syscall_count":r="syscalls";break;case"cargo_deps":r="dependencies";break;default:r=""}return{chart:{toolbar:!1,animations:{enabled:!1},background:"transparent"},stroke:{width:2,curve:"smooth"},xaxis:{type:"datetime",tooltip:{enabled:!1}},yaxis:{labels:{formatter:a},title:{text:r}},theme:{mode:t}}}function f(e){var t=(0,l.I)(),a=(0,i.useState)(),n=a[0],s=a[1],o=(0,i.useState)(),u=o[0],c=o[1];return e.data.then((function(e){s(e)})),(0,i.useEffect)((function(){n&&c(function(e,t){var r=[];return e=e.filter((function(e){return e.type==t})),Array.from(new Set(e.map((function(e){return e.series})))).forEach((function(t){var n=[];e.filter((function(e){return e.series==t})).map((function(e){n.push({x:e.order,y:e.value})})),r.push({name:t,data:n,color:a(t)})})),r;function a(e){switch(e){case"Tauri Linux":return"#184e77";case"Tauri Windows":return"#38a3a5";case"Tauri macOS":return"#1a759f";case"Wry Linux":return"#f25c54";case"Wry Windows":return"#f87a63";case"Wry macOS":return"#d81159";case"electron_cpu_intensive":return"#0EB9DB";case"electron_hello_world":return"#9FEAF9";case"electron_3mb_transfer":return"#032E37";case"wry_custom_protocol":return"#B4FF36";case"wry_hello_world":return"#FB898D";case"wry_cpu_intensive":return"#ff8e13";case"tauri_hello_world":return"#EA7D8C";case"tauri_cpu_intensive":return"#DE354C";case"tauri_3mb_transfer":return"#8A3595";case"tao_rlib":return"#FF1438";case"wry_rlib":return"#D4FF14";default:return"#303846"}}}(n,e.column))}),[n]),i.createElement(p.Z,{fallback:i.createElement("div",null,"Chart not supported")},(function(){var a=r(47229).Z;return u?i.createElement(a,{options:h(e.column,t.colorMode),series:u,type:"line",height:"320"}):i.createElement("div",null,"Loading data...")}))}var k=["components"],b={},v="Benchmarks",y={unversionedId:"about/benchmarks",id:"about/benchmarks",title:"Benchmarks",description:"",source:"@site/docs/about/benchmarks.md",sourceDirName:"about",slug:"/about/benchmarks",permalink:"/doc/v1/about/benchmarks",draft:!1,editUrl:"https://github.com/tauri-apps/tauri-docs/edit/dev/docs/about/benchmarks.md",tags:[],version:"current",lastUpdatedAt:1652082810,formattedLastUpdatedAt:"5/9/2022",frontMatter:{},sidebar:"about",previous:{title:"Get the book",permalink:"/doc/v1/about/book"}},_={},g=[{value:"Execution Time",id:"execution-time",level:2},{value:"Binary Size",id:"binary-size",level:2},{value:"Memory Usage",id:"memory-usage",level:2},{value:"Thread Count",id:"thread-count",level:2},{value:"Syscall Count",id:"syscall-count",level:2},{value:"Dependencies",id:"dependencies",level:2}],w=function(){return m.apply(this,arguments)}(),x={toc:g,data:w};function N(e){var t=e.components,r=(0,n.Z)(e,k);return(0,s.kt)("wrapper",(0,a.Z)({},x,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"benchmarks"},"Benchmarks"),(0,s.kt)("p",null,"All benchmarks run on Github Actions using the ",(0,s.kt)("inlineCode",{parentName:"p"},"ubuntu-latest")," matrix. Various metrics are measuresd by the following applications:"),(0,s.kt)("table",null,(0,s.kt)("thead",{parentName:"table"},(0,s.kt)("tr",{parentName:"thead"},(0,s.kt)("th",{parentName:"tr",align:"left"},"Tauri"),(0,s.kt)("th",{parentName:"tr",align:"left"},"Wry"),(0,s.kt)("th",{parentName:"tr",align:"left"},"Electron"))),(0,s.kt)("tbody",{parentName:"table"},(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/tauri/tree/dev/tooling/bench/tests/cpu_intensive"},"tauri_cpu_intensive")),(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/wry/tree/dev/bench/tests/src/cpu_intensive.rs"},"wry_cpu_intensive")),(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/benchmark_electron/tree/dev/apps/cpu_intensive"},"electron_cpu_intensive"))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/tauri/tree/dev/tooling/bench/tests/helloworld"},"tauri_hello_world")),(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/wry/tree/dev/bench/tests/src/hello_world.rs"},"wry_hello_world")),(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/benchmark_electron/tree/dev/apps/hello_world"},"electron_hello_world"))),(0,s.kt)("tr",{parentName:"tbody"},(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/tauri/tree/dev/tooling/bench/tests/files_transfer"},"tauri_3mb_transfer")),(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/wry/tree/dev/bench/tests/src/custom_protocol.rs"},"wry_custom_protocol")),(0,s.kt)("td",{parentName:"tr",align:"left"},(0,s.kt)("a",{parentName:"td",href:"https://github.com/tauri-apps/benchmark_electron/tree/dev/apps/file_transfer"},"electron_3mb_transfer"))))),(0,s.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"The CPU intensive benchmark measures how much time it takes to calculate all the prime numbers under a certain value without blocking the UI and reporting how many have been found so far using web workers."))),(0,s.kt)("h2",{id:"execution-time"},"Execution Time"),(0,s.kt)("p",null,"How much time in total it takes to intialize the application and wait for the ",(0,s.kt)("inlineCode",{parentName:"p"},"DOMContentLoaded")," event. This uses ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/sharkdp/hyperfine"},"hyperfine")," under the hood and runs 3 warm-up sequence first, then 10 sequences to calculate the average execution time."),(0,s.kt)(f,{data:w,column:"exec_time",mdxType:"Chart"}),(0,s.kt)("h2",{id:"binary-size"},"Binary Size"),(0,s.kt)("p",null,"All binaries are compiled in release mode."),(0,s.kt)(f,{data:w,column:"binary_size",mdxType:"Chart"}),(0,s.kt)("h2",{id:"memory-usage"},"Memory Usage"),(0,s.kt)("p",null,"Uses ",(0,s.kt)("a",{parentName:"p",href:"https://pypi.org/project/memory-profiler/"},"mprof")," to get the max memory usage during execution. Smaller is better."),(0,s.kt)(f,{data:w,column:"max_memory",mdxType:"Chart"}),(0,s.kt)("h2",{id:"thread-count"},"Thread Count"),(0,s.kt)("p",null,"How many threads the application uses. Smaller is better."),(0,s.kt)(f,{data:w,column:"thread_count",mdxType:"Chart"}),(0,s.kt)("h2",{id:"syscall-count"},"Syscall Count"),(0,s.kt)("p",null,"How many total syscalls are performed when executing a given application. Smaller is better."),(0,s.kt)(f,{data:w,column:"syscall_count",mdxType:"Chart"}),(0,s.kt)("h2",{id:"dependencies"},"Dependencies"),(0,s.kt)(f,{data:w,column:"cargo_deps",mdxType:"Chart"}))}N.isMDXComponent=!0}}]);