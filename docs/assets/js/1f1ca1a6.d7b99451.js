(self.webpackChunktauri_docs=self.webpackChunktauri_docs||[]).push([[5942],{44220:function(t,e,a){"use strict";a.r(e),a.d(e,{assets:function(){return h},contentTitle:function(){return d},default:function(){return k},frontMatter:function(){return p},metadata:function(){return c},toc:function(){return m}});var i=a(87462),r=a(63366),n=(a(67294),a(3905)),u=a(93456),s={light:"#abd0f9",dark:"#1D81EE"},o={light:"#fad3a9",dark:"#F28918"},l=["components"],p={toc_max_heading_level:2},d="The Tauri Architecture",c={unversionedId:"about/architecture",id:"about/architecture",title:"The Tauri Architecture",description:"",source:"@site/docs/about/architecture.md",sourceDirName:"about",slug:"/about/architecture",permalink:"/doc/v1/about/architecture",draft:!1,editUrl:"https://github.com/tauri-apps/tauri-docs/edit/dev/docs/about/architecture.md",tags:[],version:"current",lastUpdatedAt:1652462994,formattedLastUpdatedAt:"5/14/2022",frontMatter:{toc_max_heading_level:2},sidebar:"about",previous:{title:"What is Tauri?",permalink:"/doc/v1/about/intro"},next:{title:"Security",permalink:"/doc/v1/about/security"}},h={},m=[{value:"Introduction",id:"introduction",level:2},{value:"What Tauri is Not",id:"what-tauri-is-not",level:3},{value:"Core Ecosystem",id:"core-ecosystem",level:2},{value:"tauri",id:"tauri",level:3},{value:"tauri-runtime",id:"tauri-runtime",level:3},{value:"tauri-macros",id:"tauri-macros",level:3},{value:"tauri-utils",id:"tauri-utils",level:3},{value:"tauri-build",id:"tauri-build",level:3},{value:"tauri-codegen",id:"tauri-codegen",level:3},{value:"tauri-runtime-wry",id:"tauri-runtime-wry",level:3},{value:"Tauri Tooling",id:"tauri-tooling",level:2},{value:"API (JavaScript / TypeScript)",id:"api-javascript--typescript",level:3},{value:"Bundler (Rust / Shell)",id:"bundler-rust--shell",level:3},{value:"cli.rs (Rust)",id:"clirs-rust",level:3},{value:"cli.js (JavaScript)",id:"clijs-javascript",level:3},{value:"create-tauri-app (JavaScript)",id:"create-tauri-app-javascript",level:3},{value:"Upstream Crates",id:"upstream-crates",level:2},{value:"TAO",id:"tao",level:3},{value:"WRY",id:"wry",level:3},{value:"Additional Tooling",id:"additional-tooling",level:2},{value:"tauri-action",id:"tauri-action",level:3},{value:"tauri-vscode",id:"tauri-vscode",level:3},{value:"vue-cli-plugin-tauri",id:"vue-cli-plugin-tauri",level:3},{value:"Plugins",id:"plugins",level:2},{value:"License",id:"license",level:2},{value:"Next Steps",id:"next-steps",level:2}],g={toc:m};function k(t){var e=t.components,a=(0,r.Z)(t,l);return(0,n.kt)("wrapper",(0,i.Z)({},g,a,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"the-tauri-architecture"},"The Tauri Architecture"),(0,n.kt)("h2",{id:"introduction"},"Introduction"),(0,n.kt)("p",null,"Tauri is a polyglot and generic toolkit that is very composable and allows engineers to make a wide variety of applications. It is used for building applications for desktop computers using a combination of Rust tools and HTML rendered in a Webview. Apps built with Tauri can ship with any number of pieces of an optional JS API and Rust API so that webviews can control the system via message passing. In fact, developers can extend the default API with their own functionality and bridge the Webview and Rust-based backend easily."),(0,n.kt)("p",null,"Tauri apps can have ",(0,n.kt)("a",{parentName:"p",href:"../guides/features/menu"},"custom menus")," and ",(0,n.kt)("a",{parentName:"p",href:"../guides/features/system-tray"},"tray-type interfaces"),". They can be ",(0,n.kt)("a",{parentName:"p",href:"../guides/distribution/updater"},"updated")," and are managed by the user's operating system as expected. They are ",(0,n.kt)("a",{parentName:"p",href:"../about/benchmarks"},"very small")," because they use the OS's webview. They do not ship a runtime since the final binary is compiled from Rust. This makes the ",(0,n.kt)("a",{parentName:"p",href:"../about/security"},"reversing of Tauri apps not a trivial task"),"."),(0,n.kt)("h3",{id:"what-tauri-is-not"},"What Tauri is Not"),(0,n.kt)("p",null,"Tauri is not a lightweight kernel wrapper. Instead it directly uses ",(0,n.kt)("a",{parentName:"p",href:"#wry"},"WRY")," and ",(0,n.kt)("a",{parentName:"p",href:"#tao"},"TAO")," to do the heavy-lifting in making system calls to the OS."),(0,n.kt)("p",null,"Tauri is not a VM or virtualized environment. Instead it is an application toolkit that allows making Webview OS applications."),(0,n.kt)("h2",{id:"core-ecosystem"},"Core Ecosystem"),(0,n.kt)(u.Mermaid,{config:{},chart:"graph TB\n    subgraph Core\n    direction LR\n    subgraph tauri\n    %% Direction in subgraphs doesn't seem to work\n    direction TB\n    tauri-runtime\n    tauri-macros\n    tauri-utils\n    end\n    %% This section should be organised top to bottom\n    tauri-build\n    tauri-codegen\n    tauri-runtime-wry\n    end\n    tauri-runtime-wry -.-> WRY\n    subgraph Upstream\n    direction LR\n    WRY\n    TAO\n    WRY -.-> TAO\n    end\n    style Core fill:"+s.light+",stroke:"+s.dark+",stroke-width:4px\n    style Upstream fill:"+s.light+",stroke:"+s.dark+",stroke-width:4px\n    style tauri fill:"+o.light+",stroke:"+o.dark+",stroke-width:4px",mdxType:"Mermaid"}),(0,n.kt)("h3",{id:"tauri"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri"},"tauri")),(0,n.kt)("p",null,"This is the major crate that holds everything together. It brings the runtimes, macros, utilities and API into one final product. It reads the ",(0,n.kt)("a",{parentName:"p",href:"../api/config"},(0,n.kt)("inlineCode",{parentName:"a"},"tauri.conf.json"))," file at compile time in order to bring in features and undertake actual configuration of the app (and even the ",(0,n.kt)("inlineCode",{parentName:"p"},"Cargo.toml")," file in the project's folder). It handles script injection (for polyfills / prototype revision) at runtime, hosts the API for systems interaction, and even manages updating."),(0,n.kt)("h3",{id:"tauri-runtime"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri-runtime"},"tauri-runtime")),(0,n.kt)("p",null,"The glue layer between Tauri itself and lower level webview libraries."),(0,n.kt)("h3",{id:"tauri-macros"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri-macros"},"tauri-macros")),(0,n.kt)("p",null,"Creates macros for the context, handler, and commands by leveraging the ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri-codegen"},(0,n.kt)("inlineCode",{parentName:"a"},"tauri-codegen"))," crate."),(0,n.kt)("h3",{id:"tauri-utils"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri-utils"},"tauri-utils")),(0,n.kt)("p",null,"Common code that is reused in many places and offers useful utilities like parsing configuration files, detecting platform triples, injecting the CSP, and managing assets."),(0,n.kt)("h3",{id:"tauri-build"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri-build"},"tauri-build")),(0,n.kt)("p",null,"Applies the macros at build-time in order to rig some special features needed by ",(0,n.kt)("inlineCode",{parentName:"p"},"cargo"),"."),(0,n.kt)("h3",{id:"tauri-codegen"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri-codegen"},"tauri-codegen")),(0,n.kt)("p",null,"Embeds, hashes, and compresses assets, including icons for the app as well as the system-tray. Parses ",(0,n.kt)("a",{parentName:"p",href:"../api/config"},(0,n.kt)("inlineCode",{parentName:"a"},"tauri.conf.json"))," at compile time and generate the Config struct."),(0,n.kt)("h3",{id:"tauri-runtime-wry"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/core/tauri-runtime-wry"},"tauri-runtime-wry")),(0,n.kt)("p",null,"This crate opens up direct systems-level interactions specifically for WRY, such as printing, monitor detection, and other windowing related tasks."),(0,n.kt)("h2",{id:"tauri-tooling"},"Tauri Tooling"),(0,n.kt)("h3",{id:"api-javascript--typescript"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/tooling/api"},"API")," (JavaScript / TypeScript)"),(0,n.kt)("p",null,"A typescript library that creates ",(0,n.kt)("inlineCode",{parentName:"p"},"cjs")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"esm")," JavaScript endpoints for you to import into your frontend framework so that the Webview can call and listen to backend activity. Also ships in pure typescript, because for some frameworks this is more optimal. It uses the message passing of webviews to their hosts."),(0,n.kt)("h3",{id:"bundler-rust--shell"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/tooling/bundler"},"Bundler")," (Rust / Shell)"),(0,n.kt)("p",null,"A library that builds a Tauri app for the platform it detects or is told. Currently supports macOS, Windows and Linux - but in the near future will support mobile platforms as well. May be used outside of Tauri projects."),(0,n.kt)("h3",{id:"clirs-rust"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/tooling/cli"},"cli.rs")," (Rust)"),(0,n.kt)("p",null,"This Rust executable provides the full interface to all of the required activities for which the CLI is required. It runs on macOS, Windows, and Linux."),(0,n.kt)("h3",{id:"clijs-javascript"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri/tree/dev/tooling/cli/node"},"cli.js")," (JavaScript)"),(0,n.kt)("p",null,"Wrapper around ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/tauri-apps/tauri/blob/dev/tooling/cli"},(0,n.kt)("inlineCode",{parentName:"a"},"cli.rs"))," using ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/napi-rs/napi-rs"},(0,n.kt)("inlineCode",{parentName:"a"},"napi-rs"))," to produce NPM packages for each platform."),(0,n.kt)("h3",{id:"create-tauri-app-javascript"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/create-tauri-app"},"create-tauri-app")," (JavaScript)"),(0,n.kt)("p",null,"A toolkit that will enable engineering teams to rapidly scaffold out a new ",(0,n.kt)("inlineCode",{parentName:"p"},"tauri-apps")," project using the frontend framework of their choice (as long as it has been configured)."),(0,n.kt)("h2",{id:"upstream-crates"},"Upstream Crates"),(0,n.kt)("p",null,'The Tauri-Apps organisation maintains two "upstream" crates from Tauri, namely TAO for creating and managing application windows, and WRY for interfacing with the Webview that lives within the window.'),(0,n.kt)("h3",{id:"tao"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tao"},"TAO")),(0,n.kt)("p",null,"Cross-platform application window creation library in Rust that supports all major platforms like Windows, macOS, Linux, iOS and Android. Written in Rust, it is a fork of ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/rust-windowing/winit"},"winit")," that we have extended for our own needs like menu bar and system tray."),(0,n.kt)("h3",{id:"wry"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/wry"},"WRY")),(0,n.kt)("p",null,"WRY is a cross-platform WebView rendering library in Rust that supports all major desktop platforms like Windows, macOS, and Linux.\nTauri uses WRY as the abstract layer responsible to determine which webview is used (and how interactions are made)."),(0,n.kt)("h2",{id:"additional-tooling"},"Additional Tooling"),(0,n.kt)("h3",{id:"tauri-action"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri-action"},"tauri-action")),(0,n.kt)("p",null,"GitHub workflow that builds Tauri binaries for all platforms. Even allows creating a (very basic) Tauri app even if Tauri is not set up."),(0,n.kt)("h3",{id:"tauri-vscode"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/tauri-vscode"},"tauri-vscode")),(0,n.kt)("p",null,"This project enhances the Visual Studio Code interface with several nice-to-have features."),(0,n.kt)("h3",{id:"vue-cli-plugin-tauri"},(0,n.kt)("a",{parentName:"h3",href:"https://github.com/tauri-apps/vue-cli-plugin-tauri"},"vue-cli-plugin-tauri")),(0,n.kt)("p",null,"Allows you to very quickly install Tauri in a vue-cli project."),(0,n.kt)("h2",{id:"plugins"},"Plugins"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"../guides/features/plugin"},"Tauri Plugin Guide")),(0,n.kt)("p",null,"Generally speaking, plugins are authored by third parties (even though there may be official, supported plugins). A plugin generally does 3 things:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},'Enables Rust code to do "something".'),(0,n.kt)("li",{parentName:"ol"},"Provides interface glue to make it easy to integrate into an app."),(0,n.kt)("li",{parentName:"ol"},"Provides a JavaScript API for interfacing with the Rust code.")),(0,n.kt)("p",null,"Here are some examples of Tauri Plugins:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/tauri-apps/tauri-plugin-sql"},"tauri-plugin-sql")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/tauri-apps/tauri-plugin-stronghold"},"tauri-plugin-stronghold")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/tauri-apps/tauri-plugin-authenticator"},"tauri-plugin-authenticator"))),(0,n.kt)("h2",{id:"license"},"License"),(0,n.kt)("p",null,"Tauri itself is licensed under MIT or Apache-2.0. If you repackage it and modify any source code, it is your responsibility to verify that you are complying with all upstream licenses. Tauri is provided AS-IS with no explicit claim for suitability for any purpose."),(0,n.kt)("p",null,"Here you may peruse our ",(0,n.kt)("a",{parentName:"p",href:"https://app.fossa.com/projects/git%2Bgithub.com%2Ftauri-apps%2Ftauri"},"Software Bill of Materials"),"."),(0,n.kt)("h2",{id:"next-steps"},"Next Steps"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"../guides/getting-started/beginning-tutorial"},"Your First Tauri App")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"../guides/development/development-cycle"},"Development Cycle")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"../guides/distribution/publishing"},"Publishing")),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"../guides/distribution/updater"},"Updating")))}k.isMDXComponent=!0},11748:function(t,e,a){var i={"./locale":89234,"./locale.js":89234};function r(t){var e=n(t);return a(e)}function n(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=n,t.exports=r,r.id=11748}}]);