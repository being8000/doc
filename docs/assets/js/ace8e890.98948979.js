"use strict";(self.webpackChunktauri_docs=self.webpackChunktauri_docs||[]).push([[3752],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return g}});var i=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=i.createContext({}),l=function(e){var n=i.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=l(e.components);return i.createElement(u.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},d=i.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,u=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(t),g=r,m=d["".concat(u,".").concat(g)]||d[g]||c[g]||a;return t?i.createElement(m,o(o({ref:n},p),{},{components:t})):i.createElement(m,o({ref:n},p))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=d;var s={};for(var u in n)hasOwnProperty.call(n,u)&&(s[u]=n[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<a;l++)o[l]=t[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}d.displayName="MDXCreateElement"},71935:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return u},default:function(){return g},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return c}});var i=t(87462),r=t(63366),a=(t(67294),t(3905)),o=["components"],s={sidebar_label:"Linux Code Signing",sidebar_position:5},u="Code Signing Linux packages",l={unversionedId:"guides/distribution/sign-linux",id:"guides/distribution/sign-linux",title:"Code Signing Linux packages",description:"This guide provides information on code signing for Linux packages.",source:"@site/docs/guides/06-distribution/sign-linux.md",sourceDirName:"guides/06-distribution",slug:"/guides/distribution/sign-linux",permalink:"/doc/v1/guides/distribution/sign-linux",draft:!1,editUrl:"https://github.com/tauri-apps/tauri-docs/edit/dev/docs/guides/06-distribution/sign-linux.md",tags:[],version:"current",lastUpdatedAt:1652522612,formattedLastUpdatedAt:"5/14/2022",sidebarPosition:5,frontMatter:{sidebar_label:"Linux Code Signing",sidebar_position:5},sidebar:"guides",previous:{title:"Linux",permalink:"/doc/v1/guides/distribution/linux"},next:{title:"macOS",permalink:"/doc/v1/guides/distribution/macos"}},p={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Signing for AppImages",id:"signing-for-appimages",level:2}],d={toc:c};function g(e){var n=e.components,t=(0,r.Z)(e,o);return(0,a.kt)("wrapper",(0,i.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"code-signing-linux-packages"},"Code Signing Linux packages"),(0,a.kt)("p",null,"This guide provides information on code signing for Linux packages."),(0,a.kt)("h2",{id:"requirements"},"Requirements"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"gpg or gpg2")),(0,a.kt)("p",null,"A key for signing must be prepared. A new one can be generated using:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"gpg2 --full-gen-key\n")),(0,a.kt)("p",null,"Please refer to the gpg or gpg2 documentation for additional information.\nYou should take additional care to backup your private and public keys in a secure location."),(0,a.kt)("h2",{id:"signing-for-appimages"},"Signing for AppImages"),(0,a.kt)("p",null,"You can embed a signature in the AppImage by setting the following environment variables:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"SIGN"),": set to ",(0,a.kt)("inlineCode",{parentName:"li"},"1")," to sign the AppImage."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"SIGN_KEY"),": optional variable to use a specific GPG Key ID for signing."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"APPIMAGETOOL_SIGN_PASSPHRASE"),": the signing key password. If unset, gpg shows a dialog so you can input it, so you must set this when running in automated tasks.")),(0,a.kt)("p",null,"You can display the signature embedded in the AppImage by running the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"./src-tauri/target/release/bundle/appimage/$APPNAME_$VERSION_amd64.AppImage --appimage-signature\n")),(0,a.kt)("p",null,"Note that you need to change the $APPNAME and $VERSION values with the correct ones based on your configuration."),(0,a.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"The signature is not verified")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"AppImage does not validate the signature, so you can't rely on it to check whether the file has been tampered or not.\nTo validate the signature, you must provide an external tool for your users. See ",(0,a.kt)("a",{parentName:"p",href:"https://docs.appimage.org/packaging-guide/optional/signatures.html"},"the official AppImage documentation")," for additional information."))))}g.isMDXComponent=!0}}]);