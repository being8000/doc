<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/building/app-size">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<style id="dynamic-css">
              @font-face {
                font-family: 'themify';
                src:url('/fonts/themify.eot?-fvbane');
                src:url('/fonts/themify.eot?#iefix-fvbane') format('embedded-opentype'),
                  url('/fonts/themify.woff?-fvbane') format('woff'),
                  url('/fonts/themify.ttf?-fvbane') format('truetype'),
                  url('/fonts/themify.svg?-fvbane#themify') format('svg');
                font-weight: normal;
                font-style: normal;
              }
            </style>
<meta property="og:type" content="website">
<meta property="og:url" content="https://being8000.github.io">
<meta property="og:image" content="https://being8000.github.io/img/social.jpg">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:image" content="https://being8000.github.io/img/social.jpg"><title data-rh="true">Reducing the App Size | Tauri Studio</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://being8000.github.io/doc/v1/guides/building/app-size"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Reducing the App Size | Tauri Studio"><meta data-rh="true" name="description" content="At Tauri, we are working on reducing the environmental footprint of applications by using system resources where available, providing compiled systems that don&#x27;t need runtime evaluation, and offering guides so that engineers can go even smaller without sacrificing on performance or security. The point is, by saving resources, we are doing our part to help you help us save the planet -- which is the only bottom line that companies in the 21st Century should care about."><meta data-rh="true" property="og:description" content="At Tauri, we are working on reducing the environmental footprint of applications by using system resources where available, providing compiled systems that don&#x27;t need runtime evaluation, and offering guides so that engineers can go even smaller without sacrificing on performance or security. The point is, by saving resources, we are doing our part to help you help us save the planet -- which is the only bottom line that companies in the 21st Century should care about."><link data-rh="true" rel="icon" href="/doc/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://being8000.github.io/doc/v1/guides/building/app-size"><link data-rh="true" rel="alternate" href="https://being8000.github.io/doc/v1/guides/building/app-size" hreflang="en"><link data-rh="true" rel="alternate" href="https://being8000.github.io/doc/v1/guides/building/app-size" hreflang="x-default"><link rel="stylesheet" href="/doc/assets/css/styles.49a4ddad.css">
<link rel="preload" href="/doc/assets/js/runtime~main.3c01d355.js" as="script">
<link rel="preload" href="/doc/assets/js/main.4e0ef149.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc/"><div class="navbar__logo"><img src="/doc/img/tauri_with_wordmark_dark.svg" alt="Tauri Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/doc/img/tauri_with_wordmark.svg" alt="Tauri Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><a class="navbar__item navbar__link" href="/doc/v1/JSBridge/e-pon">e-pon JSBridge</a></div><div class="navbar__items navbar__items--right"><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"><div><input class="search-bar-input"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc/v1/guides/getting-started/prerequisites">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/v1/guides/architecture/">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc/v1/guides/development/security">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc/v1/guides/testing/mocking">Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/doc/v1/guides/building/introduction">Building</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/v1/guides/building/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/v1/guides/building/cross-platform">Cross-Platform Compilation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc/v1/guides/building/app-size">Reducing the App Size</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/v1/guides/building/sidecar">Embedding External Binaries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doc/v1/guides/building/debian">Debian packages</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc/v1/guides/distribution/publishing">Distribution</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc/v1/guides/features/cli">Features</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/v1/guides/debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/v1/guides/faq">Frequently Asked Questions</a></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Building</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Reducing the App Size</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Reducing the App Size</h1><p>At Tauri, we are working on reducing the environmental footprint of applications by using system resources where available, providing compiled systems that don&#x27;t need runtime evaluation, and offering guides so that engineers can go even smaller without sacrificing on performance or security. The point is, by saving resources, we are doing our part to help you help us save the planet -- which is the only bottom line that companies in the 21st Century should care about.</p><p>So if you are interested in learning how to improve your app size and performance, read on, dear friend:</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="you-cant-improve-what-you-cant-measure">You can&#x27;t improve what you can&#x27;t measure<a class="hash-link" href="#you-cant-improve-what-you-cant-measure" title="Direct link to heading">​</a></h3><p>Before you can optimize your app, you need to figure out what takes up space in your app!
Here are a couple of tools that can assist you with that:</p><ul><li><p><strong><code>cargo-bloat</code></strong></p><p><a href="https://github.com/RazrFalcon/cargo-bloat" target="_blank" rel="noopener noreferrer"><code>cargo-bloat</code></a> is a rust utility to determine what takes the most space in your app. It gives you an excellent, sorted overview of the most significant rust functions.</p></li><li><p><strong><code>cargo-expand</code></strong></p><p><a href="https://doc.rust-lang.org/book/ch19-06-macros.html" target="_blank" rel="noopener noreferrer">Macros</a> make your rust code more concise and easier to read, but they are also hidden size traps! Use <a href="https://github.com/dtolnay/cargo-expand" target="_blank" rel="noopener noreferrer"><code>cargo-expand</code></a> to see what those macros generate under the hood.</p></li><li><p><strong><code>rollup-plugin-visualizer</code></strong></p><p><a href="https://github.com/btd/rollup-plugin-visualizer" target="_blank" rel="noopener noreferrer"><code>rollup-plugin-visualizer</code></a> generates beautiful (and insightful) graphs from your rollup bundle. Very convenient for figuring out what JavaScript dependencies contribute to your final bundle size the most.</p></li><li><p><strong><code>rollup-plugin-graph</code></strong></p><p>You noticed a dependency included in your final frontend bundle, but you are unsure why? <a href="https://github.com/ondras/rollup-plugin-graph" target="_blank" rel="noopener noreferrer"><code>rollup-plugin-graph</code></a> generates graphviz compatible visualizations of your entire dependency graph.</p></li></ul><p>These are just a couple of tools that you might use. Make sure to check your frontend bundlers plugin list for more!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="think-twice-before-adding-a-dependency">Think twice before adding a dependency<a class="hash-link" href="#think-twice-before-adding-a-dependency" title="Direct link to heading">​</a></h3><h2 class="anchor anchorWithStickyNavbar_mojV" id="checklist">Checklist<a class="hash-link" href="#checklist" title="Direct link to heading">​</a></h2><ul><li><a href="#reducing-the-app-size">Reducing the App Size</a><ul><li><a href="#you-cant-improve-what-you-cant-measure">You can&#x27;t improve what you can&#x27;t measure</a></li><li><a href="#think-twice-before-adding-a-dependency">Think twice before adding a dependency</a></li><li><a href="#checklist">Checklist</a></li><li><a href="#1-minify-javascript">1. Minify Javascript</a><ul><li><a href="#why">Why?</a></li><li><a href="#how">How?</a></li></ul></li><li><a href="#2-optimize-dependencies">2. Optimize Dependencies</a><ul><li><a href="#why-1">Why?</a></li><li><a href="#how-1">How?</a></li></ul></li><li><a href="#3-optimize-images">3. Optimize Images</a><ul><li><a href="#why-2">Why?</a></li><li><a href="#how-2">How?</a></li></ul></li><li><a href="#4-remove-unnecessary-custom-fonts">4. Remove Unnecessary Custom Fonts</a><ul><li><a href="#why-3">Why?</a></li><li><a href="#how-3">How?</a></li></ul></li><li><a href="#5-allowlist-config">5. Allowlist Config</a><ul><li><a href="#why-4">Why?</a></li><li><a href="#how-4">How?</a></li></ul></li><li><a href="#6-rust-build-time-optimizations">6. Rust Build-time Optimizations</a><ul><li><a href="#why-5">Why?</a></li><li><a href="#how-5">How?</a></li><li><a href="#unstable-rust-compression-features">Unstable Rust Compression Features</a></li></ul></li><li><a href="#7-stripping">7. Stripping</a><ul><li><a href="#why-6">Why?</a></li><li><a href="#how-6">How?</a></li></ul></li><li><a href="#8-upx">8. UPX</a><ul><li><a href="#why-7">Why?</a></li><li><a href="#how-7">How?</a><ul><li><a href="#usage-on-macos">Usage on macOS</a></li></ul></li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="1-minify-javascript">1. Minify Javascript<a class="hash-link" href="#1-minify-javascript" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="why">Why?<a class="hash-link" href="#why" title="Direct link to heading">​</a></h3><p>JavaScript makes up a large portion of a typical Tauri app, so it&#x27;s important to make the JavaScript as lightweight as possible.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how">How?<a class="hash-link" href="#how" title="Direct link to heading">​</a></h3><p>You can choose among a plethora of JavaScript bundlers; popular choices are <a href="https://vitejs.dev" target="_blank" rel="noopener noreferrer">Vite</a>, <a href="https://webpack.js.org" target="_blank" rel="noopener noreferrer">webpack</a>, and <a href="https://rollupjs.org/guide/en/" target="_blank" rel="noopener noreferrer">rollup</a>.
All of them can produce minified JavaScript if configured correctly, so please consult your bundler documentation for specific options.
Generally speaking; however, you should make sure to:</p><ul><li><p><strong>Enable tree shaking</strong></p><p>This option removes unused JavaScript from your bundle. All popular bundlers enable this by default.</p></li><li><p><strong>Enable minification</strong></p><p>Minification removes unnecessary whitespace, shortens variable names, and applies other optimizations.
Most bundlers enable this by default; a notable exception is <a href="https://rollupjs.org/guide/en/" target="_blank" rel="noopener noreferrer">rollup</a>, where you need plugins like <a href="https://github.com/TrySound/rollup-plugin-terser" target="_blank" rel="noopener noreferrer">rollup-plugin-terser</a> or <a href="https://github.com/TrySound/rollup-plugin-uglify" target="_blank" rel="noopener noreferrer">rollup-plugin-uglify</a>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>You can use minifiers like <a href="https://terser.org" target="_blank" rel="noopener noreferrer">terser</a> and <a href="https://esbuild.github.io" target="_blank" rel="noopener noreferrer">esbuild</a> as standalone tools.</p></div></div></li><li><p><strong>Disable source maps</strong></p><p>Source maps provide a pleasant developer experience when working with languages that compile to JavaScript, such as <a href="https://www.typescriptlang.org" target="_blank" rel="noopener noreferrer">TypeScript</a>.
As source maps tend to be quite large, you must disable them when building for production.
They have no benefit to your end-user, so it&#x27;s effectively dead weight.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="2-optimize-dependencies">2. Optimize Dependencies<a class="hash-link" href="#2-optimize-dependencies" title="Direct link to heading">​</a></h2><p>Many popular libraries have smaller and faster alternatives that you can choose instead.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="why-1">Why?<a class="hash-link" href="#why-1" title="Direct link to heading">​</a></h3><p>Most libraries you use depend on many libraries themselves,
so a library that looks inconspicuous at first glance might add <strong>several megabytes</strong> worth of code to your app.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-1">How?<a class="hash-link" href="#how-1" title="Direct link to heading">​</a></h3><p>You can use <a href="https://bundlephobia.com" target="_blank" rel="noopener noreferrer">Bundlephobia</a> to find the cost of JavaScript dependencies.
Inspecting the cost of rust dependencies is generally harder since the compiler does many optimizations.</p><p>If you find a library that seems excessively large, google around, chances are someone else already had the same thought and created an alternative.
A good example is <a href="https://momentjs.com" target="_blank" rel="noopener noreferrer">Moment.js</a> and it&#x27;s <a href="https://github.com/you-dont-need/You-Dont-Need-Momentjs" target="_blank" rel="noopener noreferrer">Many alternatives</a>.</p><p>But keep in mind: <strong>The best dependency is no dependency</strong>, meaning that you should always prefer language builtins over 3rd party packages.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="3-optimize-images">3. Optimize Images<a class="hash-link" href="#3-optimize-images" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="why-2">Why?<a class="hash-link" href="#why-2" title="Direct link to heading">​</a></h3><p>According to the <a href="https://httparchive.org" target="_blank" rel="noopener noreferrer">Http Archive</a>, images are the <a href="https://httparchive.org/reports/page-weight#bytesImg" target="_blank" rel="noopener noreferrer">biggest contributor to website weight</a>. So if your app includes have background images or icons, make sure to optimize them!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-2">How?<a class="hash-link" href="#how-2" title="Direct link to heading">​</a></h3><p>You can choose between a variety of manual options (<a href="https://www.gimp.org" target="_blank" rel="noopener noreferrer">GIMP</a>, <a href="https://www.adobe.com/de/products/photoshop.html" target="_blank" rel="noopener noreferrer">Photoshop</a>, <a href="https://squoosh.app" target="_blank" rel="noopener noreferrer">Squoosh</a>) or plugins for your favorite frontend build tools (<a href="https://github.com/JonasKruckenberg/imagetools" target="_blank" rel="noopener noreferrer">vite-imagetools</a>, <a href="https://github.com/vbenjs/vite-plugin-imagemin" target="_blank" rel="noopener noreferrer">vite-plugin-imagemin</a>, <a href="https://github.com/webpack-contrib/image-minimizer-webpack-plugin" target="_blank" rel="noopener noreferrer">image-minimizer-webpack-plugin</a>).</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>The <code>imagemin</code> library most of the plugins use is <a href="https://github.com/imagemin/imagemin/issues/385" target="_blank" rel="noopener noreferrer">officially unmaintained</a>.</p></div></div><ul><li><p><strong>Use modern image formats</strong></p><p>Formats such as <code>webp</code> or <code>avif</code> offer size reductions of <strong>up to 95%</strong> compared to jpeg while maintaining excellent visual accuracy. You can use tools such as <a href="https://squoosh.app" target="_blank" rel="noopener noreferrer">Squoosh</a> to try different formats on your images.</p></li><li><p><strong>Size images accordingly</strong></p><p>No one appreciates you shipping the 6K raw image with your app, so make sure to size your image accordingly. Images that appear large on-screen should be sized larger than images that take up less screen space.</p></li><li><p><strong>Don&#x27;t use Responsive Images</strong></p><p>In a Web Environment, you are supposed to use <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images" target="_blank" rel="noopener noreferrer">Responsive Images</a> to load the correct image size for each user dynamically. You are not building a simple website, though: All your images are already downloaded. So using Responsive Images only bloat your app with redundant copies.</p></li><li><p><strong>Remove Metadata</strong></p><p>Images that were taken straight from a camera or stock photo side often include metadata about the Camera and Lens model or Photographer. Not only are those wasted bytes, but metadata properties can also hold potentially sensitive information such as the time, day, and location of the photo.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="4-remove-unnecessary-custom-fonts">4. Remove Unnecessary Custom Fonts<a class="hash-link" href="#4-remove-unnecessary-custom-fonts" title="Direct link to heading">​</a></h2><p>Consider not shipping custom fonts with your app and relying on system fonts instead. If you must ship custom fonts, make sure they are in modern, optimized formats such as <code>woff2</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="why-3">Why?<a class="hash-link" href="#why-3" title="Direct link to heading">​</a></h3><p>Fonts can be pretty big, so using the fonts already included in the Operating System reduces the footprint of your app. It also avoids FOUT (Flash of Unstyled Text) and makes your app feel more &quot;native&quot; since it uses the same font as all other apps.</p><p>If you must include custom fonts, make sure you include them in modern formats such as <code>woff2</code> as those tend to be way smaller than legacy formats.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-3">How?<a class="hash-link" href="#how-3" title="Direct link to heading">​</a></h3><p>Use so-called <strong>&quot;System Font Stacks&quot;</strong> in your CSS. There are a number of variations, but here are 3 basic ones to get you started:</p><ul><li><strong>Sans-serif</strong></li></ul><div class="language-css codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-css codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token property">font-family</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> -apple-system</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> BlinkMacSystemFont</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Segoe UI&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Helvetica</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Arial</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  sans-serif</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Apple Color Emoji&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Segoe UI Emoji&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Serif</strong></li></ul><div class="language-css codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-css codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token property">font-family</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Iowan Old Style</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Apple Garamond</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Baskerville</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Times New Roman</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Droid</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Serif</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Times</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Source Serif Pro</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> serif</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Apple Color Emoji</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Segoe UI Emoji</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Segoe</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    UI Symbol</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Monospace</strong></li></ul><div class="language-css codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-css codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token property">font-family</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> ui-monospace</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> SFMono-Regular</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> SF Mono</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Menlo</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Consolas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Liberation</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    Mono</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> monospace</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="5-allowlist-config">5. Allowlist Config<a class="hash-link" href="#5-allowlist-config" title="Direct link to heading">​</a></h2><p>You can reduce the size of your app by only enabling the Tauri API features you need in the <code>allowlist</code> config.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="why-4">Why?<a class="hash-link" href="#why-4" title="Direct link to heading">​</a></h3><p>The <code>allowlist</code> config determines what API features to enable; disabled features will <strong>not be compiled into your app</strong>. This is an easy way of shedding some extra weight.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-4">How?<a class="hash-link" href="#how-4" title="Direct link to heading">​</a></h3><p>An example from a typical <code>tauri.conf.json</code>:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;tauri&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;allowlist&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;all&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;fs&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token property">&quot;writeFile&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;shell&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token property">&quot;execute&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;dialog&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token property">&quot;save&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="6-rust-build-time-optimizations">6. Rust Build-time Optimizations<a class="hash-link" href="#6-rust-build-time-optimizations" title="Direct link to heading">​</a></h2><p>Configure your cargo project to take advantage of rusts size optimization features.
<a href="https://lifthrasiir.github.io/rustlog/why-is-a-rust-executable-large.html" target="_blank" rel="noopener noreferrer">Why is a rust executable large ?</a> provides an excellent explanation on why this matters and an in-depth walkthrough. At the same time, <a href="https://github.com/johnthagen/min-sized-rust" target="_blank" rel="noopener noreferrer">Minimizing Rust Binary Size</a> is more up-to-date and has a couple of extra recommendations.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="why-5">Why?<a class="hash-link" href="#why-5" title="Direct link to heading">​</a></h3><p>Rust is notorious for producing large binaries, but you can instruct the compiler to optimize the final executable&#x27;s size.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-5">How?<a class="hash-link" href="#how-5" title="Direct link to heading">​</a></h3><p>Cargo exposes several options that determine how the compiler generates your binary.
The &quot;recommended&quot; options for Tauri apps are these:</p><div class="language-toml codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-toml codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">[profile.release]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">panic = &quot;abort&quot; # Strip expensive panic clean-up logic</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">codegen-units = 1 # Compile crates one after another so the compiler can optimize better</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">lto = true # Enables link to optimizations</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">opt-level = &quot;s&quot; # Optimize for binary size</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>There is also <code>opt-level = &quot;z&quot;</code> available to reduce the resulting binary size. <code>&quot;s&quot;</code> and <code>&quot;z&quot;</code> can sometimes be smaller than the other, so test it with your application!</p><p>We&#x27;ve seen smaller binary sizes from <code>&quot;s&quot;</code> for Tauri example applications, but real-world applications can always differ.</p></div></div><p>For a detailed explanation of each option and a bunch more, refer to the <a href="https://doc.rust-lang.org/cargo/reference/profiles.html" target="_blank" rel="noopener noreferrer">Cargo books Profiles section</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="unstable-rust-compression-features">Unstable Rust Compression Features<a class="hash-link" href="#unstable-rust-compression-features" title="Direct link to heading">​</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>The following suggestions are all unstable features and require a nightly toolchain. See the <a href="https://doc.rust-lang.org/cargo/reference/unstable.html#unstable-features" target="_blank" rel="noopener noreferrer">Unstable Features</a> documentation for more information on what this involves.</p></div></div><p>The following methods involve using unstable compiler features and require the rust nightly toolchain. If you don&#x27;t have the nightly toolchain + <code>rust-src</code> nightly component added, try the following:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">rustup toolchain </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> nightly</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">rustup component </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> rust-src --toolchain nightly</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Rust Standard Library comes precompiled. This means rust is faster to install, but also that the compiler can&#x27;t optimize the Standard Library. You can apply the optimization options for the rest of your binary + dependencies to the std with an unstable flag. This flag requires specifying your target, so know the target triple you are targeting.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">cargo +nightly build --release -Z build-std --target x86_64-unknown-linux-gnu</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are using <code>panic = &quot;abort&quot;</code> in your release profile optimizations, you need to make sure the <code>panic_abort</code> crate is compiled with std. Additionally, an extra std feature can further reduce the binary size. The following applies both:</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">cargo +nightly build --release -Z build-std</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">std,panic_abort -Z build-std-features</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">panic_immediate_abort --target x86_64-unknown-linux-gnu</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See the unstable documentation for more details about <a href="https://doc.rust-lang.org/cargo/reference/unstable.html#build-std" target="_blank" rel="noopener noreferrer"><code>-Z build-std</code></a> and <a href="https://doc.rust-lang.org/cargo/reference/unstable.html#build-std-features" target="_blank" rel="noopener noreferrer"><code>-Z build-std-features</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="7-stripping">7. Stripping<a class="hash-link" href="#7-stripping" title="Direct link to heading">​</a></h2><p>Use strip utilities to remove debug symbols from your compiled app.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="why-6">Why?<a class="hash-link" href="#why-6" title="Direct link to heading">​</a></h3><p>Your compiled app includes so-called &quot;Debug Symbols&quot; that include function and variable names. Your end-users will probably not care about Debug Symbols, so this is a pretty surefire way to save some bytes!</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-6">How?<a class="hash-link" href="#how-6" title="Direct link to heading">​</a></h3><p>The easiest way is to use the famous <code>strip</code> utility to remove this debugging information.</p><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">strip target/release/my_application</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See your local <code>strip</code> manpage for more information and flags that can be used to specify what information gets stripped out from the binary.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="8-upx">8. UPX<a class="hash-link" href="#8-upx" title="Direct link to heading">​</a></h2><p>UPX, <strong>Ultimate Packer for eXecutables</strong>, is a dinosaur amongst the binary packers. This 23-year old, well-maintained piece of kit is GPL-v2 licensed with a pretty liberal usage declaration. Our understanding of the licensing is that you can use it for any purposes (commercial or otherwise) without needing to change your license unless you modify the source code of UPX.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="why-7">Why?<a class="hash-link" href="#why-7" title="Direct link to heading">​</a></h3><p>Maybe your target audience has very slow internet, or your app needs to fit on a tiny USB stick, and all the above steps haven&#x27;t resulted in the savings you need. Fear not, as we have one last trick up our sleeves:</p><p><a href="https://github.com/upx/upx" target="_blank" rel="noopener noreferrer">UPX</a> compresses your binary and creates a self-extracting executable that decompresses itself at runtime.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-7">How?<a class="hash-link" href="#how-7" title="Direct link to heading">​</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>You should know that this technique might flag your binary as a virus on Windows and macOS - so use at your own discretion, and as always, validate with <a href="https://frida.re/docs/home/" target="_blank" rel="noopener noreferrer">Frida</a> and do real distribution testing!</p></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="usage-on-macos">Usage on macOS<a class="hash-link" href="#usage-on-macos" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_MPoW theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-bash codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#9CDCFE"><span class="token plain">brew </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> upx</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> tauri build</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">upx --ultra-brute src-tauri/target/release/bundle/macos/app.app/Contents/macOS/app</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                        Ultimate Packer </span><span class="token keyword" style="color:rgb(86, 156, 214)">for</span><span class="token plain"> eXecutables</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                            Copyright </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">C</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1996</span><span class="token plain"> - </span><span class="token number" style="color:rgb(181, 206, 168)">2018</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">UPX </span><span class="token number" style="color:rgb(181, 206, 168)">3.95</span><span class="token plain">        Markus Oberhumer, Laszlo Molnar </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;</span><span class="token plain"> John Reiser   Aug 26th </span><span class="token number" style="color:rgb(181, 206, 168)">2018</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        File size         Ratio      Format      Name</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    --------------------   ------   -----------   -----------</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token number" style="color:rgb(181, 206, 168)">963140</span><span class="token plain"> -</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain">    </span><span class="token number" style="color:rgb(181, 206, 168)">274448</span><span class="token plain">   </span><span class="token number" style="color:rgb(181, 206, 168)">28.50</span><span class="token plain">%   macho/amd64   app</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/tauri-apps/tauri-docs/edit/dev/docs/guides/05-building/app-size.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-05-13T17:29:54.000Z">5/14/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc/v1/guides/building/cross-platform"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cross-Platform Compilation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc/v1/guides/building/sidecar"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Embedding External Binaries</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#you-cant-improve-what-you-cant-measure" class="table-of-contents__link toc-highlight">You can&#39;t improve what you can&#39;t measure</a></li><li><a href="#think-twice-before-adding-a-dependency" class="table-of-contents__link toc-highlight">Think twice before adding a dependency</a></li><li><a href="#checklist" class="table-of-contents__link toc-highlight">Checklist</a></li><li><a href="#1-minify-javascript" class="table-of-contents__link toc-highlight">1. Minify Javascript</a><ul><li><a href="#why" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how" class="table-of-contents__link toc-highlight">How?</a></li></ul></li><li><a href="#2-optimize-dependencies" class="table-of-contents__link toc-highlight">2. Optimize Dependencies</a><ul><li><a href="#why-1" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how-1" class="table-of-contents__link toc-highlight">How?</a></li></ul></li><li><a href="#3-optimize-images" class="table-of-contents__link toc-highlight">3. Optimize Images</a><ul><li><a href="#why-2" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how-2" class="table-of-contents__link toc-highlight">How?</a></li></ul></li><li><a href="#4-remove-unnecessary-custom-fonts" class="table-of-contents__link toc-highlight">4. Remove Unnecessary Custom Fonts</a><ul><li><a href="#why-3" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how-3" class="table-of-contents__link toc-highlight">How?</a></li></ul></li><li><a href="#5-allowlist-config" class="table-of-contents__link toc-highlight">5. Allowlist Config</a><ul><li><a href="#why-4" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how-4" class="table-of-contents__link toc-highlight">How?</a></li></ul></li><li><a href="#6-rust-build-time-optimizations" class="table-of-contents__link toc-highlight">6. Rust Build-time Optimizations</a><ul><li><a href="#why-5" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how-5" class="table-of-contents__link toc-highlight">How?</a></li><li><a href="#unstable-rust-compression-features" class="table-of-contents__link toc-highlight">Unstable Rust Compression Features</a></li></ul></li><li><a href="#7-stripping" class="table-of-contents__link toc-highlight">7. Stripping</a><ul><li><a href="#why-6" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how-6" class="table-of-contents__link toc-highlight">How?</a></li></ul></li><li><a href="#8-upx" class="table-of-contents__link toc-highlight">8. UPX</a><ul><li><a href="#why-7" class="table-of-contents__link toc-highlight">Why?</a></li><li><a href="#how-7" class="table-of-contents__link toc-highlight">How?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"></div></footer></div>
<script src="/doc/assets/js/runtime~main.3c01d355.js"></script>
<script src="/doc/assets/js/main.4e0ef149.js"></script>
</body>
</html>